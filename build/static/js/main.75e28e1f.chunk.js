(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports={createForm:"SourceCreate_createForm__2KrBN",createFields:"SourceCreate_createFields__8F5Ek",labelTitle:"SourceCreate_labelTitle__3LPuJ"}},14:function(e,t,a){e.exports={section:"SourceCard_section__hWmMe",name:"SourceCard_name__327TD",url:"SourceCard_url__59iZD"}},16:function(e,t,a){e.exports={newsletterHead:"TitleBar_newsletterHead__Zupct",title:"TitleBar_title__3MWB3",timeStamp:"TitleBar_timeStamp__wN8_N"}},17:function(e,t,a){e.exports={errorWrapper:"Error_errorWrapper__1wrJh",errorTitle:"Error_errorTitle__31zwY",error:"Error_error__2k7aI"}},18:function(e,t,a){e.exports={element:"NavMenuElement_element__3XeYF",button:"NavMenuElement_button__1qALZ",buttonArrow:"NavMenuElement_buttonArrow__1nY71",buttonArrowOpen:"NavMenuElement_buttonArrowOpen__vyjhv"}},21:function(e,t,a){e.exports={button:"PostButton_button__3gCuo",on:"PostButton_on__dfo7m"}},22:function(e,t,a){e.exports={addSource:"SourcesList_addSource__qePJ3"}},23:function(e,t,a){e.exports={menu:"NavMenu_menu__1haFk",menuOpen:"NavMenu_menuOpen__3CT9m"}},34:function(e,t,a){e.exports={content:"PostCardList_content__15L4_",contentFlex:"PostCardList_contentFlex__2hHWd"}},35:function(e,t,a){e.exports=a(58)},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(28),s=a.n(r),c=a(10),i=a(6),l=a(31),u=a(32),p=a.n(u),h=a(33),d=a.n(h),m=a(1),_=a(2),f=a(4),b=a(3),v=a(5),g=function(e){var t=0,a=new Date,n=1===a.getMinutes().toString().length?"0"+a.getMinutes():a.getMinutes(),o=a.getHours()>=12?"pm":"am";return t=0===a.getHours()?12:a.getHours()>12?a.getHours()-12:a.getHours(),["Sunday","Monday","Tueday","Wedday","Thuday","Friday","Saturday"][a.getDay()]+", "+["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]+" "+a.getDate()+", "+a.getFullYear()+" | "+t+":"+n+o},O=a(16),y=a.n(O),E=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).showHome=function(){a.props.toggle("Home")},a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:y.a.newsletterHead},o.a.createElement("div",{className:y.a.title,onClick:this.showHome,id:"title"},"The Newsletter"),o.a.createElement("time",{className:y.a.timeStamp},o.a.createElement(g,null)))}}]),t}(o.a.Component),S="http://localhost:8080/api";function j(){return{type:"SET_POSTS",payload:fetch("".concat(S,"/list")).then(function(e){return e.json()}).catch(function(e){return e})}}function w(e){return{type:"UPDATE_POST",payload:fetch("http://localhost:8080/api",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:e})}).then(function(e){return e.json()}).catch(function(e){return e})}}function C(e){return{type:"ADD_SOURCE",payload:fetch(S,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({action:e.action,id:e.id||"",fields:e.fields})}).then(function(e){return e.json()})}}function P(){return{type:"SET_SOURCES",payload:fetch("".concat(S,"/sources")).then(function(e){return e.json()})}}function k(e){return{type:"SELECT_POST",payload:fetch("".concat(S,"/post/").concat(e)).then(function(e){return e.json()})}}var N=a(7),T=a(21),M=a.n(T),A=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).updatePost=function(){var e="";switch(a.props.type){case"star":e=["post","update"];break;default:e=["post","delete"]}var t={};t["".concat(a.props.type)]=!a.props.value;var n={id:a.props.postId,action:e,fields:t};a.props.updatePost(n),a.props.toggle&&a.props.toggle("Home")},a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e="\xd7",t=M.a.button;switch(this.props.type){case"star":e="\u221a",this.props.value&&(t=M.a.on)}return o.a.createElement("button",{className:t,onClick:this.updatePost},e)}}]),t}(o.a.Component),x=Object(c.b)(function(e){return{updatePost:e.updatePost}},function(e){return Object(i.b)({updatePost:w},e)})(A),D={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},H={1:"Sun",2:"Mon",3:"Tue",4:"Wed",5:"Thu",6:"Fri",7:"Sat"},L=function(e){var t=new Date;Object.keys(e).length||(t=new Date(e));var a="".concat(t.getHours(),":").concat(t.getMinutes()," am");return t.getHours()>12&&(a="".concat(t.getHours()-12,":").concat(t.getMinutes()," pm")),"".concat(H[t.getDay()+1]," ").concat(t.getDate()," ").concat(D[t.getMonth()+1]," at ").concat(a)},W=a(8),F=a.n(W),I=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleClick=function(){a.props.selector(a.props.post._id)},a.handleClick=a.handleClick.bind(Object(N.a)(Object(N.a)(a))),a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e="".concat(this.props.post.text.replace(/<(?:.|\n)*?>/gm," "),"..."),t="";t=this.props.post.read?F.a.bodyRead:F.a.body;var a=L(new Date(this.props.post.published));return o.a.createElement("section",{className:t,key:this.props.post._id},o.a.createElement("header",{className:F.a.title,onClick:this.handleClick},this.props.post.title),o.a.createElement("section",{className:F.a.secondLine},o.a.createElement("div",{className:F.a.source},"@ ",this.props.post.source),o.a.createElement(x,{type:"star",value:this.props.post.star,postId:this.props.post._id})),o.a.createElement("section",{className:F.a.text,onClick:this.handleClick,dangerouslySetInnerHTML:{__html:e}}),o.a.createElement("footer",{className:F.a.statusLine},o.a.createElement("div",null,a),o.a.createElement("div",null,"~ ",this.props.post.readTime," mins")),o.a.createElement("div",{className:F.a.divider}))}}]),t}(o.a.Component),J=a(34),R=a.n(J),U=a(17),B=a.n(U),Y=function(e){return o.a.createElement("main",{className:B.a.errorWrapper},o.a.createElement("p",{className:B.a.errorTitle},"ERROR"),o.a.createElement("p",{className:B.a.error},e.message))},q=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).fetchMessages=function(){a.props.setPosts().then(function(e){})},a.selectPostToShow=function(e){a.props.selectPost(e).then(function(e){a.props.showPost(e)})},a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.fetchMessages()}},{key:"componentDidMount",value:function(){this.refresher=setInterval(this.fetchMessages,5e3),window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refresher)}},{key:"render",value:function(){var e=this,t=this.props.posts.message;return t?o.a.createElement(Y,{message:t}):o.a.createElement("div",{className:R.a.content},this.props.posts.map(function(t){return o.a.createElement(I,{selector:e.selectPostToShow,post:t,key:t._id})}))}}]),t}(o.a.Component),z=Object(c.b)(function(e){return{posts:e.posts,selectPost:e.selectPost,selectModule:e.selectModule}},function(e){return Object(i.b)({setPosts:j,selectPost:k},e)})(q),X=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e="";switch(this.props.type){case"edit":e="fas fa-pencil-alt";break;case"add":e="fas fa-plus";break;default:e="far fa-trash-alt"}return o.a.createElement("button",null,o.a.createElement("i",{className:e}))}}]),t}(o.a.Component),Z=a(14),K=a.n(Z),Q=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(_.a)(t,[{key:"goHome",value:function(){}},{key:"render",value:function(){return o.a.createElement("section",{className:K.a.section},o.a.createElement("section",{className:K.a.nameWrapper},o.a.createElement("p",{onClick:this.goHome,className:K.a.name},this.props.source.name),o.a.createElement("p",{className:K.a.url},this.props.source.url)),o.a.createElement("section",{className:K.a.buttonsWrapper},o.a.createElement(X,{type:"edit",postId:this.props.source._id}),o.a.createElement(X,{type:"delete"})))}}]),t}(o.a.Component),V=a(12),$=a.n(V),G=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={name:"",url:"",homepage:""},a.handleChange=a.handleChange.bind(Object(N.a)(Object(N.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(N.a)(Object(N.a)(a))),a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={name:e.target[0].value,url:e.target[1].value,home:e.target[2].value};this.props.toggle(),this.props.create(t)}},{key:"render",value:function(){return console.log(this.props),o.a.createElement("form",{onSubmit:this.handleSubmit,className:$.a.createForm},o.a.createElement("label",null,o.a.createElement("div",{className:$.a.labelTitle},"Name"),o.a.createElement("input",{className:$.a.input,type:"text",name:"name",value:this.state.name,onChange:this.handleChange})),o.a.createElement("label",null,o.a.createElement("div",{className:$.a.labelTitle},"URL"),o.a.createElement("input",{type:"text",name:"url",value:this.state.url,onChange:this.handleChange})),o.a.createElement("label",null,o.a.createElement("div",{className:$.a.labelTitle},"Homepage"),o.a.createElement("input",{type:"text",name:"home",value:this.state.home,onChange:this.handleChange})),o.a.createElement("button",{className:$.a.submit,as:"input",type:"submit",value:"Submit"},"Create"))}}]),t}(o.a.Component),ee=a(22),te=a.n(ee),ae=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={showAddSource:!1},a.toggleAddSource=function(){a.setState(function(e){return{showAddSource:!a.state.showAddSource}}),console.log(a.state.showAddSource)},a.fetchSources=function(){a.props.setSources()},a.createSource=function(e){var t={action:["source","create"],fields:e};a.props.addSource(t)},a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.fetchSources()}},{key:"componentDidMount",value:function(){this.refresher=setInterval(this.fetchSources,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refresher)}},{key:"render",value:function(){return o.a.createElement("section",{className:te.a.section},o.a.createElement("div",{className:te.a.addSource,onClick:this.toggleAddSource},o.a.createElement(X,{type:"add"}),"Add Source"),this.state.showAddSource?o.a.createElement(G,{create:this.createSource,toggle:this.toggleAddSource}):null,this.props.sources.map(function(e){return o.a.createElement(Q,{source:e,key:e._id})}))}}]),t}(o.a.Component),ne=Object(c.b)(function(e){return{sources:e.sources,addSource:e.addSource}},function(e){return Object(i.b)({setSources:P,addSource:C},e)})(ae),oe=a(9),re=a.n(oe),se=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){window.open(a.props.post.url,"_blank")},a.componentDidMount=function(){window.scrollTo(0,0)},a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e="";e=this.props.post.author?"by ".concat(this.props.post.author):"";var t=L(new Date(this.props.post.published)),a=L(new Date(this.props.post.parsed));return o.a.createElement("article",{className:re.a.body},o.a.createElement("header",{className:re.a.title,onClick:this.handleClick},this.props.post.title),o.a.createElement("div",{className:re.a.secondLine},o.a.createElement("div",{className:re.a.author},e),o.a.createElement("div",{className:re.a.buttonsWrapper},o.a.createElement(x,{type:"star",value:this.props.post.star,postId:this.props.post._id}),o.a.createElement(x,{type:"delete",postId:this.props.post._id,toggle:this.props.toggle}))),o.a.createElement("section",{className:re.a.text,dangerouslySetInnerHTML:{__html:this.props.post.text}}),o.a.createElement("div",{className:re.a.divider}),o.a.createElement("footer",{className:re.a.statusLine},o.a.createElement("div",null,"published: ",t),o.a.createElement("div",null,"parsed: ",a),o.a.createElement("div",null,"~ ",this.props.post.pages," pages")))}}]),t}(o.a.Component),ce=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).setPostToShow=function(e){a.setState({post:e.payload}),a.props.toggle("show")},a.state={post:{}},a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){switch(this.props.show){case"Home":return o.a.createElement(z,{showPost:this.setPostToShow});case"show":return o.a.createElement(se,{post:this.state.post,toggle:this.props.toggle});case"Sources":return o.a.createElement(ne,null);default:return o.a.createElement(z,null)}}}]),t}(o.a.Component),ie=a(18),le=a.n(ie),ue=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){"arrow"!==a.props.name&&a.props.options.show(a.props.name),a.props.options.menuOpen("")},a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=le.a.button,t=this.props.name;return"\u27a4"===t&&(e=this.props.options.menuStatus?le.a.buttonArrowOpen:le.a.buttonArrow),console.log(this.props),o.a.createElement("div",{onClick:this.handleClick,className:e},t)}}]),t}(o.a.Component),pe=a(23),he=a.n(pe),de=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){console.log(this.props);var e=he.a.menu;return this.props.options.menuStatus&&(e=he.a.menuOpen),o.a.createElement("nav",{className:e},o.a.createElement(ue,{options:this.props.options,name:"\u27a4"}),o.a.createElement(ue,{options:this.props.options,name:"Home"}),o.a.createElement(ue,{options:this.props.options,name:"Sources"}))}}]),t}(o.a.Component),me=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={module:"Home",menuOpen:!1},a.showModule=function(e){a.setState(function(t){return{module:e}})},a.menuOpen=function(){a.setState({menuOpen:!a.state.menuOpen})},a}return Object(v.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e={show:this.showModule,menuOpen:this.menuOpen,menuStatus:this.state.menuOpen};return o.a.createElement("main",null,o.a.createElement(E,{toggle:this.showModule}),o.a.createElement(ce,{show:this.state.module,toggle:this.showModule}),o.a.createElement(de,{options:e}))}}]),t}(o.a.Component);a(57),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.load({google:{families:["Aleo:300,300i,400,400i,700","IBM Plex Mono:300,400"]}});var _e=Object(i.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.payload;default:return e}},sources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SOURCES":return t.payload;default:return e}},addSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SOURCE":return t.payload;default:return e}},updatePost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_POST":return t.payload;default:return e}},selectPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_POST":return t.payload;default:return e}},sourceCreateModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODULE":return t.payload;default:return e}}}),fe=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d)(Object(i.a)(p.a,l.logger));s.a.render(o.a.createElement(c.a,{store:Object(i.e)(_e,{posts:[],sources:[],addSource:"",updatePost:"",selectPost:"",sourceCreateModule:!0},fe)},o.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports={body:"PostCard_body__3hbvz",bodyFlex:"PostCard_bodyFlex__1TYUE",bodyRead:"PostCard_bodyRead__1JMP2",title:"PostCard_title__131Au",secondLine:"PostCard_secondLine__KD5pA",source:"PostCard_source__3-ict",text:"PostCard_text__2kRll",statusLine:"PostCard_statusLine__1d_h8",divider:"PostCard_divider__3wj7f"}},9:function(e,t,a){e.exports={body:"PostShow_body__1NQ_n",title:"PostShow_title__2HfCj",secondLine:"PostShow_secondLine__9dJW5",author:"PostShow_author__1S4ap",buttonsWrapper:"PostShow_buttonsWrapper__10ox5",text:"PostShow_text__27vjt",signature:"PostShow_signature__22jd-","book-cta":"PostShow_book-cta__3WUf0","border-bottom":"PostShow_border-bottom__OPWyx",divider:"PostShow_divider__zhco3",statusLine:"PostShow_statusLine__3higE"}}},[[35,1,2]]]);
//# sourceMappingURL=main.75e28e1f.chunk.js.map